
## [–ù–∞ –≥–ª–∞–≤–Ω—É—é](README.md)
## 1. Lifecycle PHP, CGI,

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è PHP-–∫–æ–¥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OPcache –∏ JIT, –æ—Ç –∑–∞–ø—É—Å–∫–∞ PHP-FPM –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.
```mermaid
sequenceDiagram
    autonumber
    participant OS as Operating System
    participant Engine as Zend VM / PHP
    participant OPC as OPcache (SHM)
    participant JITCompiler as JIT Compiler
    participant JITBuffer as JIT Buffer

    Note over OS, JITBuffer: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    
    alt CGI
        rect rgba(135, 206, 250, 0.2)
        OS->>Engine: –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ –∏ libc.so.6
        Engine->>Engine: –ß—Ç–µ–Ω–∏–µ php.ini –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
        Engine->>OPC: –í—ã–¥–µ–ª–µ–Ω–∏–µ Shared Memory (shmget/mmap)
        Engine->>JITBuffer: –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è JIT –∫–æ–¥–∞
        end
    else PHP-FPM
        rect rgba(255, 182, 193, 0.2)
        Note right of Engine: –ú–∞—Å—Ç–µ—Ä-–ø—Ä–æ—Ü–µ—Å—Å —É–∂–µ –≤—ã–ø–æ–ª–Ω–∏–ª<br>–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (1‚Äì4)<br>–í–æ—Ä–∫–µ—Ä —Å—Ä–∞–∑—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
        end
    end

    Note over OS, JITBuffer: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
    Engine->>OPC: –ï—Å—Ç—å –ª–∏ Opcodes –¥–ª—è script.php?
    
    alt Cache Miss
        rect rgba(135, 206, 250, 0.2)
        Engine->>OS: openat() & read()
        Engine->>Engine: –õ–µ–∫—Å–µ—Ä ‚Üí Tokens
        Engine->>Engine: –ü–∞—Ä—Å–µ—Ä ‚Üí AST
        Engine->>Engine: –ö–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí Opcodes
        Engine->>OPC: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Opcodes –≤ SHM
        end
    else Cache Hit
        rect rgba(255, 182, 193, 0.2)
        OPC-->>Engine: –í–æ–∑–≤—Ä–∞—Ç Opcodes
        end
    end

    Note over Engine: –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (Interpretation)

    loop Execution Loop
        rect rgba(220, 220, 220, 0.3)
        Engine->>Engine: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è Opcodes
        Engine->>Engine: –°–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è<br>(hot paths / counters)
        end
    end

    opt –û–±–Ω–∞—Ä—É–∂–µ–Ω Hot Trace > opcache.jit_hot_func
        rect rgba(135, 206, 250, 0.2)
        Engine->>JITCompiler: –ü–µ—Ä–µ–¥–∞—á–∞ hot trace –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
        JITCompiler->>JITCompiler: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤ Native Machine Code
        JITCompiler->>JITBuffer: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Native Code –≤ JIT Buffer
        JITCompiler-->>Engine: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
        end
    end

    Note over Engine: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (JIT Mode)

    loop Execution Loop (–ø–æ—Å–ª–µ JIT)
        rect rgba(255, 182, 193, 0.2)
        Engine->>JITBuffer: –ï—Å—Ç—å –ª–∏ Native Code –¥–ª—è trace?
        alt JIT Cache Hit
            JITBuffer-->>Engine: –í–æ–∑–≤—Ä–∞—Ç Native Machine Code
            Engine->>OS: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Native Code –Ω–∞ CPU
        else JIT Cache Miss
            JITBuffer-->>Engine: Native Code –Ω–µ –Ω–∞–π–¥–µ–Ω
            Engine->>Engine: –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
        end
        end
    end

    Note over Engine: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (Shutdown)
    Engine->>Engine: RSHUTDOWN
    Engine->>Engine: –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞<br>–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    opt CGI Mode
        Engine->>OPC: –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞
        Engine->>JITBuffer: –û—á–∏—Å—Ç–∫–∞ JIT Buffer
    end
```

- –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª PHP –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è  —Å –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ /usr/local/bin/php, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —á–∏—Ç–∞–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è php.ini, –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
- –ó–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –¥–ª—è –æ–ø–∫—ç—à–∞ –∏ –±—É—Ñ–µ—Ä–∞ JIT. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –æ–±—â–µ–º.
- –ó–∞—Ç–µ–º Zend VM –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ –æ–ø–∫–æ–¥ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞, –≤–∞–ª–∏–¥–µ–Ω –ª–∏ –∫—ç—à –∏ —Ç–¥. 
- If: –∫—ç—à —Ö–∏—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –±–∞–π—Ç –∫–æ–¥ –∏ —ç—Ç–∞–ø—ã —á—Ç–µ–Ω–∏—è –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è. 
- Else: –ü—Ä–∏ –∫—ç—à –º–∏—Å–µ –¥–µ–ª–∞–µ—Ç openat() –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞, —á—Ç–µ–Ω–∏–µ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∞–π—Ç–∫–æ–¥–∞ - —Å–ø–µ—Ä–≤–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω OpCache, –±–∞–π—Ç-–∫–æ–¥ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –≤ shared memory.
- –ó–∞—Ç–µ–º Zend VM –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –±–∞–π—Ç-–∫–æ–¥. –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω JIT, —Å–∏—Å—Ç–µ–º–∞ —Å–ª–µ–¥–∏—Ç –∑–∞ hot counters, hot traces –∏ –∫–æ–ø–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è JIT. 
- If: –æ–±–Ω–∞—Ä—É–∂–µ–Ω hot trace, —Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç —ç—Ç–æ—Ç —Ç—Ä–µ–π—Å –≤ JIT compiler, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –µ–≥–æ –≤ native machine code –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∏—Ç—Å—è –≤ JIT –±—É—Ñ–µ—Ä.
- Loop: –∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è—Ö Zend VM –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ native machine code, 
- If: –Ω–∞–π–¥–µ–Ω, —Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é CPU –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ Opcodes, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ.
- Else: JIT cache miss, —Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Å—Ç–æ–º CGI –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è. –í —Ä–µ–∂–∏–º–µ FPM –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é.


## 2. –†–∞–∑–Ω–∏—Ü–∞ PHP-CGI –∏ PHP-FPM
- **–í —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–º CGI** –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞. PHP-CGI —Å–ª–µ–¥—É–µ—Ç —ç—Ç–æ–π –º–æ–¥–µ–ª–∏, –≤—ã–ø–æ–ª–Ω—è—è –≤—Å–µ —ç—Ç–∞–ø—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–∑–∞–≥—Ä—É–∑–∫—É –±–∏–Ω–∞—Ä–Ω–∏–∫–∞, –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥–æ–≤, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∏ shared memory –¥–ª—è Opcache) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

- **PHP-FPM** —ç—Ç–æ –¥–µ–º–æ–Ω-–º–µ–Ω–µ–¥–∂–µ—Ä PHP-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ FastCGI –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Nginx –∏ –æ—Ç–¥–∞—ë—Ç –µ–º—É –æ—Ç–≤–µ—Ç, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–ª–æ–º –≤–æ—Ä–∫–µ—Ä–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, master-–ø—Ä–æ—Ü–µ—Å—Å PHP-FPM –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å—é –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤. –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (workers) —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç OpCache –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏) –∏ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ä–∞–∑—ã –∑–∞ —Å—á—ë—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.


## 3. Interpreter vs Compiler vs PHP JIT

### üìù –ë–∞–∑–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

**Compiler** –∏ **Interpreter** ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –≤ –º–∞—à–∏–Ω–Ω—ã–π (0 –∏ 1), –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä—É.


### üñ• Interpreter (–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä)

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç –∫–æ–¥ **—Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π** –∏ —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç.

#### ‚ûñ –ú–∏–Ω—É—Å—ã:
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ  
  *(–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)*

### ‚öô Compiler (–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä)

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–≤–æ–¥–∏—Ç **–≤–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Ü–µ–ª–∏–∫–æ–º** –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ *–¥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã*.

#### ‚ûñ –ú–∏–Ω—É—Å—ã:
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É,  
  –∞ –æ—à–∏–±–∫–∞ –ø—Ä–æ—è–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É.

#### ‚ûï –ü–ª—é—Å—ã:
- –ì–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑**, –∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É–∂–µ –º–∞—à–∏–Ω–Ω—ã–π.


## 3.1 –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç JIT

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç PHP JIT (Just-In-Time Compiler)

### 1Ô∏è‚É£ –ù–∞ —Å—Ç–∞—Ä—Ç–µ ‚Äî –æ–±—ã—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è  
PHP —Å–ø–µ—Ä–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ:  
- —á–∏—Ç–∞–µ—Ç –∫–æ–¥,  
- –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç,  
- –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –≤—Ä—É—á–Ω—É—é.

–ù–∏—á–µ–≥–æ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ.


### 2Ô∏è‚É£ –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã JIT —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É  
–û–Ω —Å–º–æ—Ç—Ä–∏—Ç:

- –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è **—Ç—ã—Å—è—á–∏ —Ä–∞–∑** ‚Äî ¬´–≥–æ—Ä—è—á–∏–π –∫–æ–¥¬ª
- –ö–∞–∫–∏–µ —Ç–∏–ø—ã —Ç—É–¥–∞ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏—Ö–æ–¥—è—Ç (int? string?)
- –ö–∞–∫–∏–µ –≤–µ—Ç–∫–∏ `if` –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
- –ö–∞–∫–∏–µ —Ü–∏–∫–ª—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–∞—â–µ –¥—Ä—É–≥–∏—Ö


### 3Ô∏è‚É£ –ö–æ–≥–¥–∞ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ¬´hot¬ª, JIT –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –µ–≥–æ üí•  
–ü—Ä—è–º–æ **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**, JIT –≥–æ–≤–æ—Ä–∏—Ç:

> ¬´–û, —ç—Ç–æ—Ç —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–ª—Å—è 20 000 —Ä–∞–∑ ‚Äî —è—Å–Ω–æ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç!  
>  –Ø —Å–∫–æ–º–ø–∏–ª–∏—Ä—É—é –µ–≥–æ –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥.¬ª

–ò –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ä—è—á–∏–µ —É—á–∞—Å—Ç–∫–∏ –≤ –±—ã—Å—Ç—Ä—ã–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥.

### üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç
- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–≤ —Ä–∞–∑—ã –±—ã—Å—Ç—Ä–µ–µ**
- –¶–∏–∫–ª—ã, —Ä–µ–∫—É—Ä—Å–∏—è, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ ‚Äî —É—Å–∫–æ—Ä—è—é—Ç—Å—è

### ‚úî –ò—Ç–æ–≥

- PHP –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä  
- JIT –Ω–∞–±–ª—é–¥–∞–µ—Ç  
- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º–∞—à–∏–Ω–Ω—ã–π**  
- –°–∫—Ä–∏–ø—Ç —É—Å–∫–æ—Ä—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞


## 3.2 –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É OPCode –∏ JIT-–∫–æ–¥–æ–º

### üü¶ 1. –ß—Ç–æ —Ç–∞–∫–æ–µ OPCode

OPCode ‚Äî —ç—Ç–æ **–±–∞–π—Ç–∫–æ–¥ PHP**, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–µ–∂–¥—É –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–Ω—ã–º –∫–æ–¥–æ–º.

PHP –±–µ—Ä—ë—Ç —Ç–≤–æ–π –∫–æ–¥ ‚Üí  
–ø–∞—Ä—Å–∏—Ç ‚Üí  
–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤ –æ–ø–∫–æ–¥—ã ‚Üí  
–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä **Zend VM** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–∞–∂–¥—ã–π –æ–ø–∫–æ–¥ –ø–æ –æ–¥–Ω–æ–º—É.

- ‚úÖ OPCode = ¬´–±–∞–π—Ç–∫–æ–¥ PHP¬ª  
- ‚ùå OPCode ‚â† –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥  
- –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ **–¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã PHP** ‚Äî Zend VM.

### üü• 2. –ß—Ç–æ —Ç–∞–∫–æ–µ JIT-–∫–æ–¥

JIT-–∫–æ–¥ ‚Äî —ç—Ç–æ **–Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞–ø—Ä—è–º—É—é.

–ö–æ–≥–¥–∞ JIT –≤–∏–¥–∏—Ç, —á—Ç–æ –∫—É—Å–æ–∫ –∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑ (**¬´–≥–æ—Ä—è—á–∏–π¬ª –∫–æ–¥**):  
‚Üí –±–µ—Ä—ë—Ç OPCode,  
‚Üí –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –∏ –ª–æ–≥–∏–∫—É,  
‚Üí –ø–µ—Ä–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç,  
‚Üí –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ CPU.

- ‚úÖ JIT-–∫–æ–¥ = –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥  
- ‚ùå JIT-–∫–æ–¥ **–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è Zend VM** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ CPU.


### üß® –ö–æ—Ä–æ—Ç–∫–æ –∏ –∂—ë—Å—Ç–∫–æ:

> **OPCode** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ *–¥–ª—è PHP*.  
> **JIT-–∫–æ–¥** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ *–¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞*.

- OPCode –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã PHP **–º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å** —Ç–≤–æ–π —Å–∫—Ä–∏–ø—Ç.  
- JIT –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ **–≤ —Ä–∞–∑—ã –±—ã—Å—Ç—Ä–µ–µ**, –º–∏–Ω—É—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä.
